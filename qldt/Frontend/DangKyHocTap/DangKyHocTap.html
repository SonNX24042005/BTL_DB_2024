<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng Kí Học Tập</title>
    
<style>
:root {
    --primary-color: rgb(186, 28, 28);
    --secondary-color: #2980b9;
    --accent-color: #f39c12;
    --text-color: #333;
    --light-gray: #f5f5f5;
    --dark-gray: #e0e0e0;
    --white: #ffffff;
    --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    --border-radius: 8px;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background-color: #f0f2f5;
    min-height: 100vh;
    display : flex;
    flex-direction: column;
}

.container {
    width: 90%;
    margin: 0 auto;
    padding: 20px;
    flex : 1;
}

.header {
    width: 100%;
    background-color: #f0f2f5;
}


nav img {
width: 120px !important;
height: auto !important; 
margin-left: 30px;
}


nav{
display: flex;
position: -webkit-sticky;
padding: 15px 6%;
justify-content: space-between;
align-items: center;
transition: transform 0.3s ease-in-out;
background-color: rgba(13, 12, 12, 0.89);
}
/*nav.hidden {
transform: translateY(-100%);
}*/
.nav-links{
flex: 1;
text-align: right;
}

.nav-links ul li{
list-style: none;
display: inline-block;
padding: 5px 10px;
position: relative;
margin-right: 15px;
}

.nav-links ul li a{
color:azure;
text-decoration: none;
font-size: 14px;
font-weight: 500;
}
.nav-links ul li::after{
content: '';
width: 0%;
height: 2px;
background: #CC1628;
display: block;
margin: auto;
transition: 0.5s;
}

.nav-links ul li:hover::after{
width: 100%;
}
/* Dropdown menu chung */
.dropdown-menu {
position: absolute;
top: 100%;
left: 0;
right:auto;
background: rgba(30, 30, 30, 0.95); /* Màu tối nhưng vẫn nổi bật */
display: block;
width: max-content;
padding: 5px 0; /* Khoảng cách bên trong menu */
box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* Bóng đổ giúp menu nổi bật */
border-radius: 8px; /* Bo tròn góc dropdown */
z-index: 1000;
opacity: 0;
transform: translateY(-10px);
transition: opacity 0.3s ease, transform 0.3s ease;

}

.dropdown-menu li {
list-style: none;
padding: 5px 0; /* Khoảng cách giữa các mục */
transition: background 0.3s ease-in-out;
text-align: left;
display:block !important;
}

.dropdown-menu li a {
display: block;
color: white;
padding: 10px;
transition: 0.3s ease-in-out;
}
.dropdown-menu ul {
/*display: block !important;*/
flex-direction: column !important;
/* Không sử dụng flex để tránh hàng ngang */
margin: 0;
padding: 0;
}
.dropdown-menu li a:hover {
background: #cc1628;
display:block;
}

/* Hiển thị menu khi hover */
.dropdown:hover .dropdown-menu {
display: block;
}

/* Hiệu ứng trượt mượt */
.dropdown-menu {
opacity: 0;
transform: translateY(-10px);
transition: opacity 0.3s ease, transform 0.3s ease;
}

.dropdown:hover .dropdown-menu {
opacity: 1;
transform: translateY(0);
}

/* Page Title */
.page-title {
    text-align: center;
    margin: 20px 0;
    color: var(--primary-color);
    font-size: 2rem;
    font-weight: 700;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--primary-color);
}

/* Two-column layout */
.registration-layout {
    display: flex;
    gap: 20px;
    margin-top: 20px;
}

.registration-form-container {
    flex: 0 0 30%;
}

.courses-container {
    flex: 0 0 70%;
}

/* Registration Form Styles */
.registration-form {
    background-color: var(--white);
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    padding: 20px;
    margin-bottom: 20px;
    height: 100%;
}

.registration-form h2 {
    color: var(--primary-color);
    margin-bottom: 15px;
    font-size: 1.5rem;
}

.form-group {
    margin-bottom: 15px;
}

.form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 600;
    color: var(--text-color);
}

.form-group input[type="text"] {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--dark-gray);
    border-radius: 4px;
    font-size: 1rem;
}

.form-actions {
    display: flex;
    justify-content: flex-start;
    gap: 10px;
}

.btn {
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s;
}

.btn-primary {
    background-color: var(--primary-color);
    color: white;
}

.btn-secondary {
    background-color: var(--secondary-color);
    color: white;
}

.btn-danger {
    background-color: #e74c3c;
    color: white;
}

.btn:hover {
    opacity: 0.9;
}

/* Table Styles */
.courses-table-container {
    background-color: var(--white);
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    padding: 20px;
}

.courses-table-container h3 {
    color: var(--primary-color);
    margin-bottom: 15px;
    font-size: 1.3rem;
}

.courses-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
    background-color: var(--white);
    border-radius: var(--border-radius);
    overflow: hidden;
}

.courses-table th, .courses-table td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid var(--dark-gray);
}

.courses-table th {
    background-color: var(--primary-color);
    color: var(--white);
    font-weight: 600;
}

.courses-table tr:last-child td {
    border-bottom: none;
}

.courses-table tr:nth-child(even) {
    background-color: var(--light-gray);
}

.status-inserted {
    color: var(--secondary-color);
    font-weight: 600;
}

.status-success {
    color: #27ae60;
    font-weight: 600;
}

.status-removed {
    color: #e74c3c;
    font-weight: 600;
}

.table-actions {
    margin-top: 20px;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

/* Alert message */
.alert {
    padding: 15px;
    margin-bottom: 20px;
    border-radius: var(--border-radius);
    color: white;
    display: none;
}

.alert-success {
    background-color: #27ae60;
}

.alert-danger {
    background-color: #e74c3c;
}

.alert-info {
    background-color: var(--secondary-color);
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .registration-layout {
        flex-direction: column;
    }
    
    .registration-form-container,
    .courses-container {
        flex: 1 0 100%;
    }

    nav {
        flex-direction: column;
        align-items: flex-start;
    }

    .nav-links {
        width: 100%;
        text-align: left;
        margin-top: 15px;
    }

    .nav-links ul li {
        display: block;
        margin: 10px 0;
    }

    .dropdown-menu {
        position: static;
        opacity: 1;
        visibility: visible;
        transform: none;
        width: 100%;
        box-shadow: none;
        background: rgba(50, 50, 50, 0.9);
        display: none;
    }

    .dropdown-menu.active {
        display: block;
        opacity: 1;
        transform: translateY(0);
    }
    
    .courses-table {
        font-size: 0.9rem;
    }
    
    .courses-table th, .courses-table td {
        padding: 8px 10px;
    }
}

/* Animation for hover effects */
.nav-links ul li a:hover {
    color: white;
    transition: 0.3s;
}
.wrapper {
    min-height: 100%;
    display: flex;
    flex-direction: column;
    flex : 1;
}
footer {
    text-align-last: center;
    
}
</style>
</head>
<body>
    <section class="header">
        <nav>
            <a href="../TrangChu/index.html"><img src="../images/logo.png" alt="Logo trường"></a>  
            <div class="nav-links" id="navLinks">
                <ul>
                    <li><a href="../TrangChu/index.html">TRANG CHỦ</a></li>
                    <li class="dropdown">
                        <a href="#">HỌC TẬP</a>
                        <ul class="dropdown-menu">
                            <li><a href="../LichHoc/LichHoc.html">THỜI KHÓA BIỂU</a></li>
                            <li><a href="../BangDiem/BangDiem/BangDiem.html">BẢNG ĐIỂM</a></li>
                            <li><a href="../DoAn/DoAn.html">ĐỒ ÁN</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#">CHƯƠNG TRÌNH ĐÀO TẠO</a>
                        <ul class="dropdown-menu">
                            <li><a href="../ChuongTrinhDaoTao/ChuongTrinhDaoTao.html">CHƯƠNG TRÌNH ĐÀO TẠO</a></li>
                            <li><a href="../DangKyHocTap/DangKyHocTap.html">ĐĂNG KÍ HỌC TẬP</a></li>
                            <li><a href="../ChuongTrinhTraoDoi/ChuongTrinhTraoDoi.html">CHƯƠNG TRÌNH TRAO ĐỔI</a></li>
                            <li><a href="../HocBong/HocBong.html">HỌC BỔNG</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#">TÀI KHOẢN</a>
                        <ul class="dropdown-menu">
                            <li><a href="../ThongTinSinhVien/ThongTinSinhVien.html">THÔNG TIN</a></li>
                            <li><a href="../DangXuat/DangXuat.html">ĐĂNG XUẤT</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
    </section>
    <div class="wrapper">
        <div class="container">
            <h1 class="page-title">ĐĂNG KÍ HỌC TẬP</h1>
            <div class="alert" id="alertMessage"></div>
            
            <div class="registration-layout">
                <div class="registration-form-container">
                    <div class="registration-form">
                        <h2>Thêm Môn Học</h2>
                        <div class="form-group">
                            <label for="courseCode">Mã Môn Học:</label>
                            <input type="text" id="courseCode" placeholder="Nhập mã môn học (VD: IT001)">
                        </div>
                        <div class="form-actions">
                            <button class="btn btn-primary" id="addCourseBtn">Thêm Môn Học</button>
                        </div>
                    </div>
                </div>
                
                <div class="courses-container">
                    <div class="courses-table-container">
                        <h3>Danh Sách Môn Học Đăng Kí</h3>
                        <table class="courses-table">
                            <thead>
                                <tr>
                                    <th>Chọn</th>
                                    <th>Mã Môn</th>
                                    <th>Tên Môn</th>
                                    <th>Hình Thức</th>
                                    <th>Kì Học</th>
                                    <th>Trạng Thái</th>
                                </tr>
                            </thead>
                            <tbody id="coursesTableBody">
                                <!-- Courses will be added here dynamically -->
                            </tbody>
                        </table>
                        
                        <div class="table-actions">
                            <button class="btn btn-danger" id="removeCourseBtn">Xóa Môn Học</button>
                            <button class="btn btn-secondary" id="submitRegistrationBtn">Gửi Đăng Kí</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <footer>
            <img src="images/footer.jpeg" style="width: 100%;">
        </footer>
    </div>

    <script>
        // Sample course data with predefined information
        const courseDatabase = {
            'MI1134': { name: 'Phương trình vi phân và chuỗi', type: 'Lí thuyết', semester: '2024.2' },
            'JP2111': { name: 'Tiếng Nhật 4', type: 'Lí thuyết', semester: '2024.2' },
            'IT3290': { name: 'Thực hành cơ sở dữ liệu', type: 'Thực hành', semester: '2024.2' },
            'IT3292': { name: 'Cơ sở dữ liệu', type: 'Lí thuyết', semester: '2024.2' },
            'MI2021': { name: 'Xác xuất thống kê', type: 'LT+BT', semester: '2024.2' },
            'IT3280': { name: 'Thực hành kiến trúc máy tính', type: 'Thực hành', semester: '2024.2' }
        };

        document.addEventListener('DOMContentLoaded', function() {
            const courseCodeInput = document.getElementById('courseCode');
            const addCourseBtn = document.getElementById('addCourseBtn');
            const removeCourseBtn = document.getElementById('removeCourseBtn');
            const submitRegistrationBtn = document.getElementById('submitRegistrationBtn');
            const coursesTableBody = document.getElementById('coursesTableBody');
            const alertMessage = document.getElementById('alertMessage');
            
            // Function to show alert message
            function showAlert(message, type) {
                alertMessage.textContent = message;
                alertMessage.className = 'alert';
                alertMessage.classList.add(`alert-${type}`);
                alertMessage.style.display = 'block';
                
                // Hide alert after 3 seconds
                setTimeout(() => {
                    alertMessage.style.display = 'none';
                }, 3000);
            }
            
            // Function to add course to the table
            function addCourse() {
                const courseCode = courseCodeInput.value.trim().toUpperCase();
                
                if (!courseCode) {
                    showAlert('Vui lòng nhập mã môn học!', 'danger');
                    return;
                }
                
                // Check if course exists in database
                if (!courseDatabase[courseCode]) {
                    showAlert('Mã môn học không tồn tại trong hệ thống!', 'danger');
                    return;
                }
                
                // Check if course is already in the table
                const existingRows = coursesTableBody.querySelectorAll('tr');
                for (let row of existingRows) {
                    if (row.cells[1].textContent === courseCode) {
                        showAlert('Môn học này đã được thêm vào danh sách!', 'info');
                        return;
                    }
                }
                
                // Get course data
                const course = courseDatabase[courseCode];
                
                // Create new row
                const newRow = document.createElement('tr');
                newRow.innerHTML = `
                    <td><input type="checkbox" class="course-checkbox"></td>
                    <td>${courseCode}</td>
                    <td>${course.name}</td>
                    <td>${course.type}</td>
                    <td>${course.semester}</td>
                    <td class="status-inserted">Inserted</td>
                `;
                
                coursesTableBody.appendChild(newRow);
                courseCodeInput.value = '';
                showAlert('Đã thêm môn học vào danh sách!', 'success');
            }
            
            // Function to remove selected courses
            function removeCourses() {
                const checkboxes = document.querySelectorAll('.course-checkbox:checked');
                if (checkboxes.length === 0) {
                    showAlert('Vui lòng chọn ít nhất một môn học để xóa!', 'danger');
                    return;
                }
                checkboxes.forEach(checkbox => {
                    const row = checkbox.closest('tr');
                    row.cells[5].textContent = 'Removed';
                    row.cells[5].className = 'status-removed';
                    row.dataset.markedForRemoval = 'true'; // Đánh dấu để xóa sau
                    // Bỏ chọn checkbox sau khi đánh dấu xóa
                    checkbox.checked = false;
                });
                showAlert('Đã xóa các môn học được chọn vui lòng gửi lại đăng kí!', 'success');
            }

            // Function to submit registration
            function submitRegistration() {
                const rows = coursesTableBody.querySelectorAll('tr');
                if (rows.length === 0) {
                    showAlert('Danh sách đăng kí trống. Vui lòng thêm ít nhất một môn học!', 'danger');
                    return;
                }
                // Xóa các hàng đã đánh dấu để xóa
                const rowsToRemove = coursesTableBody.querySelectorAll('tr[data-marked-for-removal="true"]');
                rowsToRemove.forEach(row => row.remove());
                // Update status for remaining courses
                const remainingRows = coursesTableBody.querySelectorAll('tr:not([data-marked-for-removal="true"])');
                remainingRows.forEach(row => {
                    row.cells[5].textContent = 'Đăng kí thành công';
                    row.cells[5].className = 'status-success';
                });
                showAlert('Đăng kí học tập thành công!', 'success');
            }
            // Event listeners
            addCourseBtn.addEventListener('click', addCourse);
            courseCodeInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addCourse();
                }
            });
            removeCourseBtn.addEventListener('click', removeCourses);
            submitRegistrationBtn.addEventListener('click', submitRegistration);
            
            // Mobile navigation toggle
            const dropdowns = document.querySelectorAll('.dropdown');
            
            dropdowns.forEach(dropdown => {
                if (window.innerWidth <= 768) {
                    dropdown.addEventListener('click', function(e) {
                        this.querySelector('.dropdown-menu').classList.toggle('active');
                        e.preventDefault();
                    });
                }
            });
        });
    </script>
</body>
</html>